{{ define "main" }}
<!-- Hero -->
<section class="hero"{{ if .Params.hero_image }} style="background-image: linear-gradient(rgba(10, 37, 64, 0.7), rgba(10, 37, 64, 0.7)), url('{{ .Params.hero_image }}'); background-size: cover; background-position: center center; background-attachment: fixed;"{{ end }}>
  <div class="container">
    <div class="hero-content">
      <div class="hero-text animate-fade-in">
        <h1>{{ .Title }}</h1>
        <p class="subtitle">{{ .Description | default "Articles on growth strategy, positioning, and AI-enabled lead generation for professional service businesses." }}</p>
      </div>
    </div>
  </div>
</section>

<!-- Blog Grid -->
<main class="blog">
  <section>
    <div class="container">
      <div class="blog-grid">
        <!-- Dynamic blog posts -->
        {{ range .Pages }}
          <article class="blog-card animate-fade-in">
            <div class="blog-image">
              {{ if .Params.hero_image }}
                <img src="{{ .Params.hero_image | relURL }}" alt="{{ .Title }}" style="width: 100%; height: 100%; object-fit: cover; border-radius: 8px;" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                <div class="icon-article" aria-hidden="true" style="display: none;"></div>
              {{ else }}
                <div class="icon-article" aria-hidden="true"></div>
              {{ end }}
            </div>
            <div class="blog-content">
              <!-- Title - Most Important -->
              <h3 class="blog-title"><a class="card-link" href="{{ .RelPermalink }}">{{ .Title }}</a></h3>
              
              <!-- Content Description - Second Most Important -->
              <p class="blog-description">{{ .Params.description | default .Summary | truncate 140 }}</p>
              
              <!-- Meta Information - Supporting Details -->
              <div class="blog-meta">
                <span>{{ .Date.Format "Jan 2, 2006" }}</span>
                <span class="meta-dot">•</span>
                <span>{{ .Params.read_time | default "5 min read" }}</span>
                <span class="meta-dot">•</span>
                <span>By <a href="{{ "about/" | relURL }}" class="author-link">{{ .Params.author | default "Anoop Kurup" }}</a></span>
              </div>
              
              <!-- Call to Action -->
              <div class="blog-footer">
                <a href="{{ .RelPermalink }}" class="continue-reading-btn">Continue reading →</a>
              </div>
            </div>
          </article>
        {{ end }}
      </div>
    </div>
  </section>

  <!-- Newsletter CTA -->
  {{ partial "newsletter.html" (dict "title" "Get the Lead Machine Newsletter" "subtitle" "Actionable ideas on strategy, positioning, and AI workflows. No fluff—just systems that work." "placeholder" "you@company.com") }}
</main>
{{ end }}